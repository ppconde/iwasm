<!-- index.html -->
<!DOCTYPE html>
<html>
<body>
  <div id="main"></div>
  <script src="https://cdn.jsdelivr.net/npm/@assemblyscript/loader/umd/index.js"></script>
  <script src=/js/loader.js></script>
  <script>
      const WL = new WasmLoader();
      WL.wasm('/build/release.wasm')
        .then(instance => {
        // const { minusOne, fizzbuzz, __getString } = instance;

        // const str = __getString(fizzbuzz(3));
        // document.write(str);

        const { readMemory, memory } = instance;
        const memoryArray = new Uint8Array(memory.buffer);
        document.write(memoryArray[1]);
        document.write('<br/>');
        memoryArray[2] = 42;
        document.write(readMemory(2));
        });
  </script>
</body>
</html>